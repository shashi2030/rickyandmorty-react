(this.webpackJsonprickandmorty=this.webpackJsonprickandmorty||[]).push([[0],{111:function(e,t,a){},115:function(e,t,a){},118:function(e,t,a){},119:function(e,t,a){},122:function(e,t,a){},123:function(e,t,a){},124:function(e,t,a){},125:function(e,t,a){},126:function(e,t,a){},127:function(e,t,a){},128:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(7),l=a.n(i),o=a(19),s=a(20),c=a(23),u=a(22),m=a(41),d=a(10),h=a(28),g=a(32),p=a(165),f=a(171),E=a(164),v=a(129),b=a(155),S=a(52),O=a.n(S),y={species:[],gender:[],origin:[]},N={get:function(e){var t="http://localhost:4000"+e;return O.a.get(t).then((function(e){return Promise.resolve(e)})).catch((function(e){return Promise.reject(e)}))},post:function(e,t){var a="http://localhost:4000"+e;return O.a.post(a,t).then((function(e){return Promise.resolve(e)})).catch((function(e){return Promise.reject(e)}))}};var C=a(168),w=a(76),k=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=[];return e.map((function(e){return n.push(a?e[t].name:e[t])})),Object(w.a)(new Set(n))},j=function(e){if(e)for(var t in e)localStorage.setItem(t,e[t])},x=(a(111),{userName:"",password:"",submitted:!1,serverError:""}),F=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleChange=function(e){var t=e.target,a=t.name,r=t.value;r=r.trim(),n.setState(Object(g.a)({},a,r),(function(){n.state.serverError&&n.setState({serverError:""})}))},n.registerNewUser=function(){n.props.history.push("/register")},n.handleSubmit=function(e){e.preventDefault(),n.setState({submitted:!0});var t=n.state,a=t.userName,r=t.password,i={username:a,password:r};a&&r&&N.post("/login",i).then((function(e){if(console.log("response"),200===e.status){var t={name:e.data.name,loginId:e.data._id,userId:e.data.username,sorting:e.data.sorting};j(t),n.props.history.push("/home")}})).catch((function(e){try{e&&n.setState({serverError:"Network Error"}),401===e.response.status&&n.setState({serverError:e.response.data.error})}catch(e){console.log(e)}}))},n.state=Object(h.a)({},x),n}return Object(s.a)(a,[{key:"render",value:function(){var e=this.state,t=e.userName,a=e.password,n=e.submitted,i=e.serverError;return r.a.createElement(b.a,{component:"main",maxWidth:"xs"},r.a.createElement("div",{className:"wrapper"},r.a.createElement(v.a,{component:"h1",variant:"h5"},"Sign in"),i&&r.a.createElement(C.a,{variant:"outlined",severity:"error"},i),r.a.createElement("form",{noValidate:!0,onSubmit:this.handleSubmit},r.a.createElement(f.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"userName",label:"Username",name:"userName",autoFocus:!0,size:"small",value:t,onChange:this.handleChange,error:!t&&n}),r.a.createElement(f.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",value:a,autoComplete:"current-password",size:"small",onChange:this.handleChange,error:!a&&n}),r.a.createElement(E.a,{container:!0,spacing:2,justify:"center"},r.a.createElement(E.a,{item:!0,xs:12,sm:6},r.a.createElement(p.a,{fullWidth:!0,type:"submit",variant:"contained",size:"large",color:"primary"},"Sign In")),r.a.createElement(E.a,{item:!0,xs:12,sm:6},r.a.createElement(p.a,{fullWidth:!0,variant:"outlined",onClick:this.registerNewUser,size:"large",color:"primary"},"Register"))))))}}]),a}(n.Component),I=(a(115),{name:"",userName:"",password:"",submitted:!1,serverError:"",userMsg:"",hideMsg:!1,hideMsgSuccess:!1}),D=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleChange=function(e){var t=e.target,a=t.name,r=t.value;n.setState(Object(g.a)({},a,r),(function(){n.state.hideMsg&&n.setState({hideMsg:!1})}))},n.backToLogin=function(){n.props.history.push("/")},n.handleSubmit=function(e){e.preventDefault(),n.setState({submitted:!0});var t=n.state,a=t.name,r=t.userName,i=t.password,l={name:a,username:r,password:i};a&&r&&i&&N.post("/register",l).then((function(e){200===e.status&&n.setState({userMsg:"User Created Successfully",name:"",userName:"",password:"",submitted:!1,hideMsgSuccess:!0,hideMsg:!1})})).catch((function(e){try{e&&n.setState({serverError:"Network Error"}),401===e.response.status&&n.setState({serverError:"Duplicate Username",hideMsg:!0,hideMsgSuccess:!1})}catch(e){console.log(e)}}))},n.state=Object(h.a)({},I),n}return Object(s.a)(a,[{key:"render",value:function(){var e=this.state,t=e.name,a=e.userName,n=e.password,i=e.submitted,l=e.serverError,o=e.userMsg,s=e.hideMsg,c=e.hideMsgSuccess;return r.a.createElement(b.a,{component:"main",maxWidth:"xs"},r.a.createElement("div",{className:"login-wrapper"},r.a.createElement(v.a,{component:"h1",variant:"h5"},"User Register"),l&&s&&r.a.createElement(C.a,{variant:"outlined",severity:"error"},l),o&&c&&r.a.createElement(C.a,{variant:"outlined",severity:"success"},o),r.a.createElement("form",{noValidate:!0,onSubmit:this.handleSubmit},r.a.createElement(f.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"name",label:"name",name:"name",autoFocus:!0,size:"small",value:t,onChange:this.handleChange,error:!t&&i}),r.a.createElement(f.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"userName",label:"Username",name:"userName",size:"small",value:a,onChange:this.handleChange,error:!a&&i}),r.a.createElement(f.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",value:n,size:"small",onChange:this.handleChange,error:!n&&i}),r.a.createElement(E.a,{container:!0,spacing:2,justify:"center"},r.a.createElement(E.a,{item:!0,xs:12,sm:6},r.a.createElement(p.a,{fullWidth:!0,type:"submit",variant:"contained",size:"large",color:"primary"},"Register")),r.a.createElement(E.a,{item:!0,xs:12,sm:6},r.a.createElement(p.a,{fullWidth:!0,variant:"outlined",onClick:this.backToLogin,size:"large",color:"primary"},"Back to Login"))))))}}]),a}(n.Component),L=function(e){return localStorage.getItem("userId")?r.a.createElement(d.b,e):r.a.createElement(d.a,{to:"/"})},M=a(159),W=(a(118),function(e){return r.a.createElement(E.a,{container:!0,spacing:0},e.data&&e.data.map((function(e,t){return r.a.createElement(E.a,{className:"item-container",item:!0,key:t,xs:6,sm:4,md:3,lg:3,xl:2},r.a.createElement(M.a,{className:"item"},r.a.createElement("img",{src:e.image,alt:""}),r.a.createElement("div",{className:"name-container"},r.a.createElement("h3",null,e.name),r.a.createElement("div",{className:"id"},"Id: ".concat(e.id," - created ").concat(function(e){var t=new Date(e).getFullYear();return(new Date).getFullYear()-t}(e.created)," years ago"))),r.a.createElement("ul",{className:"bottom-container"},r.a.createElement("li",null,r.a.createElement("label",null,"STATUS")," ",r.a.createElement("span",null,e.status)),r.a.createElement("li",null,r.a.createElement("label",null,"SPECIES")," ",r.a.createElement("span",null,e.species)),r.a.createElement("li",null,r.a.createElement("label",null,"GENDER")," ",r.a.createElement("span",null,e.gender)),r.a.createElement("li",null,r.a.createElement("label",null,"ORIGIN")," ",r.a.createElement("span",null,e.origin.name)),r.a.createElement("li",null,r.a.createElement("label",null,"LOCATION")," ",r.a.createElement("span",null,e.location.name)))))})))}),z=a(166),T=a(160),A=a(74),B=a.n(A),P=(a(119),function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(f.a,{onChange:e.searchByName,label:"Search by Name",type:"search",size:"small",variant:"outlined",InputProps:{endAdornment:r.a.createElement(z.a,null,r.a.createElement(T.a,{onClick:e.handleSearch},r.a.createElement(B.a,null)))}}))}),U=a(169),R=a(163),V=a(172),q=a(167),G=(a(122),function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(R.a,{variant:"outlined",size:"small",className:"formControl"},r.a.createElement(U.a,{id:"demo-simple-select-outlined-label"},"Sort by ID"),r.a.createElement(q.a,{labelId:"demo-simple-select-outlined-label",id:"demo-simple-select-outlined",onChange:function(t){e.handleSorting(t.target.value)},label:"sortingbyid",value:e.sortingValue},r.a.createElement(V.a,{value:"asc"},"Ascending"),r.a.createElement(V.a,{value:"dsc"},"Descending"))))}),J=a(75),Y=a.n(J),$=(a(123),function(e){return r.a.createElement(p.a,{id:"logout",size:"large",onClick:function(){localStorage.clear(),e.handleLogout()},color:"primary"},r.a.createElement("img",{src:Y.a,alt:"logout"}))}),_=(a(124),function(e){return r.a.createElement("header",null,r.a.createElement(E.a,{container:!0,spacing:3},r.a.createElement(E.a,{item:!0,xs:12,sm:12,md:4,className:"logo-heading"},r.a.createElement("h1",null,"Rick and Morty Show"),r.a.createElement("span",{className:"username"},"Welcome ",r.a.createElement("span",null,localStorage.getItem("name")))),r.a.createElement(E.a,{item:!0,xs:12,sm:12,md:4,className:"search"},r.a.createElement(P,{searchByName:e.searchByName,handleSearch:e.handleSearch})),r.a.createElement(E.a,{item:!0,xs:12,sm:12,md:4,className:"select"},r.a.createElement(G,{handleSorting:e.handleSorting,sortingValue:e.sortingValue}),r.a.createElement($,{handleLogout:e.handleLogout}))))}),H=function(e){return r.a.createElement("label",null,r.a.createElement("input",{type:"checkbox",id:e.item,onClick:function(t){return e.handleFilter(t,e.option)}})," ",e.item," ")},K=(a(125),function(e){return r.a.createElement("div",{className:"box"},r.a.createElement("h4",null,e.heading),e.data&&e.data.map((function(t,a){return r.a.createElement(H,{key:a,handleFilter:e.filterClick,option:e.option,item:t})})))}),Q=(a(126),function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleAccordion=function(){n.setState({filtered:!n.state.filtered})},n.filterClick=function(e,t){var a=e.target.id,r=Object(h.a)({},n.state.filteredOption);e.target.checked?r[t].push(a):r[t].splice(r[t].indexOf(a),1),n.setState(Object(h.a)(Object(h.a)({},n.state),{},{filteredOption:r}),(function(){n.props.filteredOption(n.state.filteredOption)}))},n.state={filtered:!0,filteredOption:y},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.setState({filteredOption:{species:[],gender:[],origin:[]}})}},{key:"render",value:function(){var e=this.state.filtered?"right":"down",t=this.state.filtered?"":"active",a=this.props.data,n=k(a,"species"),i=k(a,"gender"),l=k(a,"origin",!0);return r.a.createElement(E.a,{container:!0,className:"accordion"},r.a.createElement(E.a,{item:!0},r.a.createElement("div",{className:"accordion-title",onClick:this.handleAccordion},"WANT TO FILTERED?"," ",r.a.createElement("span",{className:"arrow ".concat(e)})),r.a.createElement("div",{className:"filter-container ".concat(t)},r.a.createElement(K,{heading:"Species Filter:",data:n,filterClick:this.filterClick,option:"species"}),r.a.createElement(K,{heading:"Gender Filter:",data:i,filterClick:this.filterClick,option:"gender"}),r.a.createElement(K,{heading:"Origin Filter:",data:l,filterClick:this.filterClick,option:"origin"}))))}}]),a}(r.a.Component)),X=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).getAllCharacter=function(e){var t={sorting:e,searchName:"",filters:{species:[],gender:[],origin:[]}};N.post("/filters",t).then((function(t){200===t.status&&n.setState({dataList:t.data,sortOption:e})})).catch((function(e){console.log(e)}))},n.getFilteredData=function(){var e=n.state,t=e.searchText,a=e.sortOption,r=e.filteredOption,i={sorting:a,searchName:t,filters:{species:r.species,gender:r.gender,origin:r.origin}};j({sorting:a}),N.post("/filters",i).then((function(e){n.setState({filteredDataList:e.data})})).catch((function(e){try{e&&console.log("Network Error")}catch(e){console.log(e)}}))},n.addedFilterOption=function(e){n.setState({filteredOption:e},(function(){n.getFilteredData()}))},n.searchByName=function(e){var t=e.target.value.trim();n.setState({searchText:t})},n.handleSearch=function(){n.getFilteredData()},n.handleSorting=function(e){n.setState({sortOption:e},(function(){n.getFilteredData(),n.updateSorting()}))},n.updateSorting=function(){var e={username:localStorage.getItem("userId"),sorting:n.state.sortOption};N.post("/updatesort",e).then((function(e){200===e.status&&console.log("sorting data updated")})).catch((function(e){console.log(e)}))},n.handleLogout=function(){n.props.history.push("/")},n.state={dataList:[],filteredOption:y,searchText:"",sortOption:""},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=localStorage.getItem("sorting");this.getAllCharacter(e)}},{key:"render",value:function(){return console.log(this.state),r.a.createElement(r.a.Fragment,null,r.a.createElement(_,{searchByName:this.searchByName,handleSorting:this.handleSorting,handleLogout:this.handleLogout,handleSearch:this.handleSearch,sortingValue:this.state.sortOption}),r.a.createElement(Q,{data:this.state.dataList,filteredOption:this.addedFilterOption}),r.a.createElement(W,{data:this.state.filteredDataList||this.state.dataList}))}}]),a}(n.Component),Z=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement(m.a,null,r.a.createElement(d.d,null,r.a.createElement(d.b,{path:"/",exact:!0,component:F}),r.a.createElement(d.b,{path:"/register",exact:!0,component:D}),r.a.createElement(L,{path:"/home",exact:!0,component:X})))}}]),a}(n.Component);a(127),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.Fragment,null,r.a.createElement(m.a,null,r.a.createElement(Z,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},75:function(e,t,a){e.exports=a.p+"static/media/logout.e75855a1.svg"},89:function(e,t,a){e.exports=a(128)}},[[89,1,2]]]);
//# sourceMappingURL=main.74373045.chunk.js.map